# HealthTGBot

### Описание

Проект тг-бота для логирования потребления воды и еды, а также тренировок. Бот умеет считать необходимое потребление воды и калорий для пользователя исходя из введенных параметров, оценивать калорийность продуктов (на основе LLM посредством вызова агента), выводить красивые графики, и давать пользователю рекомендации касательно питания / тренировок (на основе LLM посредством вызова агента). А еще он пишет прикольные комментарии)

### Команды

#### 1. **Настройка профиля пользователя:**
    - Команда `/set_profile` запрашивает:
    - Вес (в кг), рост (в см) и возраст.
    - Уровень активности (минуты в день). Активность разделена на высокоинтенсивную (бег / бокс / силовые) и низкоинтенсивную (ходьба / йога)
    - Город (для получения температуры).
    - Цель по калориям и норме воды рассчитывается исходя из вводных

#### 2. **Логирование воды:**
    - Команда `/log_water <количество>`:
    - Сохраняет, сколько воды выпито.
    - Показывает, сколько осталось до выполнения нормы.
    - Помимо ввода `/log_water <количество>` можно просто тыкнуть кнопку /log_water, а дальше система сама запросит доп данные

#### 3. **Логирование еды:**
    - Команда `/log_food <название продукта>`:
    - Бот запрос доп данные по количеству грамм / штук
    - Бот использует агента с вызовом LLM по API для получения информации о продукте. Код агента есть в bot.py, пример модели и URL для вызова можно посмотреть в .env.example
    - Сохраняет калорийность.
    - Данные можно вводить как в граммах, так и в штуках (система задаст уточняющий вопрос). При выборе штук - агент сам посчитает примерные граммовки
    - Помимо ввода `/log_food <название продукта>` можно просто тыкнуть кнопку /log_water, а дальше система сама запросит доп данные
    - После ввода информации о продукте бот предложит либо ввести информацию о новом продукте, либо записать текущую информацию

#### 4. **Логирование тренировок:**
    - Команда `/log_workout:
    - Запрашивает информацию о типе тренировки (высокоинтенсивная / низкоинтенсивная), так как они по-разному влияют на потребление воды и расход калорий
    - Фиксирует сожжённые калории.
    - Учитывает расход воды на тренировке:
    - - Если тренировка (суммарное время нескольких тренировок) превышает среднюю норму для человека в день (которую он ввел с самого начала) - бот посчитает, сколько нужно дополнительно выпить воды, и выведет информацию об этом, и запишет в таблички)

#### 5. **Прогресс по воде и калориям:**
    - Команда `/check_progress`:
    - Показывает, сколько воды и калорий потреблено, сожжено и сколько осталось до выполнения цели.

**Помимо всех этих обязательных команд, я также реализовал все бонусные задания:**

+ Калорийности продуктов высчитываются AI-агентом посредством вызова LLM. Явно лучше, чем делать API-запрос в виде произвольного пользовательского сообщения к неоднозначному хранилищу

+ Команда `/stats` выводит красивые графики потребления воды и калорий относительно дневной нормы (помним, что норма воды пересчитыввается относительно дневной нагрузки, и в графиках это все учитывается). Пользователь может наглядно увидеть, сколько ему осталось съесть калорий / выпить воды на основе текущего потребления

+ Команда `/recommendations` вызывает LLM-агента, который получает данные о текущем потреблении и тренировках, а также мета данные о пользователе. Затем, на основе этого, агент выдает персональные рекомендации по поводу того, что стоит съесть / как стоит потренироваться / напоминает, что нужно выпить больше воды, и так далее

+ Помимо этого есть команды, где выводятся подсказки, как пользоваться ботом, описание миссии бота, и дисклеймер, что полностью полагаться на этого бота не нужно. Но это уже так, лирическое отступление

**Таким образом, выполнены все основные и бонусные задания, за исключением деплоя на сервере (не выполнено задание с деплоем весом в 1 балл, все остальное сделано)**

### TODO (выходит за рамки выполненного ДЗ, в том числе ее бонусной части, но тем не менее полезно сделать в будущем чтобы проект выглядел более серьезно и круто)

+ Добавить запрос пола человека, пересчет параметров объема потребления воды и калорий в зависимости от пола

+ Добавить запрос целей пользователя (похудеть / набрать массу / что-то еще) и пересчет параметров объема потребления воды и калорий в зависимости от целей

+ Более кастомизированные рекомендации от большего числа пользовательских вводных

+ Валидация калорий и граммовок на соответствие действительности, подключение мощной БД для хранения данных о продуктах и их калорийности

+ Хранение пользовательской информации в БД (на текущий момент это делается локально в словаре)

Disclaimer: проект создан только в образовательных целях. Некоторые функции могут работать не точно (например, оценка калорий через LLM), и их доработка выходит за рамки данного pet-проекта.

Пожалуйста, не полагайся полностью на советы и оценки бота, и в случае чего перепроверяй информацию с помощью надежных источников!
